$(function () { !function (i) { i.fn.jPreviewUpload = function (t) { function r(i) { if (i.files && i.files[0]) { var t = new FileReader; t.onload = function (i) { e.attr("src", i.target.result) }, t.readAsDataURL(i.files[0]) } } var s = i.extend({ border_radius: "5px", width: "", height: "", padding: "5px" }, t), e = this.find("img"), d = e.attr("src"); return e.css({ "border-radius": s.border_radius }), this.css({ "border-radius": s.border_radius, padding: s.padding }), "" != s.width && this.css({ width: s.width }), "" != s.height && this.css({ height: s.height }), this.find("input[type=file]").on("change", function (t) { var s = i(this).val(); if (null != s && "" != s) { var n = s.split(".").pop(); "png" == n || "jpeg" == n || "jpg" == n || "gif" == n ? r(i(this)[0]) : e.attr("src", d) } }), this } }(jQuery) });
